---
title: ubuntu | 挂载问题
date: 2019-12-01 09:52:43
categories:
- ubuntu
tags:
- ubuntu
---
挂载是 linux 非常重要的一个操作。

<!--more-->

# 挂载介绍

Linux 系统中“一切皆文件”，所有文件都放置在以根目录为树根的树形目录结构中。在 Linux 看来，任何硬件设备也都是文件，它们各有自己的一套文件系统（文件目录结构）。

因此产生的问题是，当在 Linux 系统中使用这些硬件设备时，只有将Linux本身的文件目录与硬件设备的文件目录合二为一，硬件设备才能为我们所用。合二为一的过程称为“挂载”。

>如果不挂载，通过Linux系统中的图形界面系统可以查看找到硬件设备，但命令行方式无法找到。

挂载，指的就是将设备文件中的顶级目录连接到 Linux 根目录下的某一目录（最好是空目录），访问此目录就等同于访问设备文件。

纠正一个误区，并不是根目录下任何一个目录都可以作为挂载点，由于挂载操作会使得原有目录中文件被隐藏，因此根目录以及系统原有目录都不要作为挂载点，会造成系统异常甚至崩溃，挂载点最好是新建的空目录。

举个例子，我们想通过命令行访问某个 U 盘中的数据，下图所示为 U 盘文件目录结构和 Linux 系统中的文件目录结构。

{% img /images/ubuntu/3_0.gif %}

上图中可以看到，目前 U 盘和 Linux 系统文件分属两个文件系统，还无法使用命令行找到 U 盘文件，需要将两个文件系统进行挂载。

接下来，我们在根目录下新建一个目录 /sdb-u，通过挂载命令将 U 盘文件系统挂载到此目录，挂载效果下图所示。

{% img /images/ubuntu/3_1.gif %}

可以看到，U 盘文件系统已经成为 Linux 文件系统目录的一部分，此时访问 /sdb-u/ 就等同于访问 U 盘。

前面讲过，根目录下的 /dev/ 目录文件负责所有的硬件设备文件，事实上，当 U 盘插入 Linux 后，系统也确实会给 U 盘分配一个目录文件（比如 sdb1），就位于 /dev/ 目录下（/dev/sdb1），但无法通过 /dev/sdb1/ 直接访问 U 盘数据，访问此目录只会提供给你此设备的一些基本信息（比如容量）。

总之，Linux 系统使用任何硬件设备，都必须将设备文件与已有目录文件进行挂载。

我们用 

	df -h

来查看挂载的情况

下面这一幅图是我电脑上的机器图

{% img /images/ubuntu/3_2.gif %}

我们可以看到，这台机器的 / 挂载在 /dev/sda4 上，只有 202 G，而其中/data 挂载在 /dev/sdb1/ 上有3.6T，所以，我们的文件或者数据可以放在/data 中，代码放在 /home 下

我们使用

	sudo du -sh /home/*

来查看各个 user 的使用情况。

# 挂载命令

[Linux mount命令](https://www.runoob.com/linux/linux-comm-mount.html)

将 /dev/hda1 挂在 /mnt 之下。

	mount /dev/hda1 /mnt

将 /dev/hda1 用唯读模式挂在 /mnt 之下。

	mount -o ro /dev/hda1 /mnt



