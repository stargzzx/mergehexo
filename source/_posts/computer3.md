---
title: UEFI+GPT与BIOS+MBR区别
date: 2019-01-19 05:24:16
categories:
- computer
tags:
- UEFI+GPT
- BIOS+MBR
---
如题，这是安装系统前必须要知道的知识。

<!-- more -->

## 参考资料

[MBR+BIOS与GPT+UEFI启动系统的区别](https://blog.csdn.net/qq_33212020/article/details/53066434)

[GPT+UEFI与BIOS+MBR的区别](http://www.kqidong.com/bios/876.html)

[UEFI+GPT与BIOS+MBR各自有什么优缺点？](https://www.zhihu.com/question/28471913/answer/155332057)

[如何查看电脑硬盘是gpt分区还是MBR分区](https://jingyan.baidu.com/article/ad310e80a9298a1849f49e17.html)

[如何判断电脑是否是uefi启动](https://jingyan.baidu.com/article/7e440953203e022fc0e2efd0.html)

## 正文

GPT+UEFI是近年来流行的一种U盘装系统模式，与传统的Bios+MBR相比具有着更好的可操作性、安全性、兼容性、可扩展性等诸多优点，对此快启动U盘启动盘制作工具的UEFI版应运而生，同时还支持GPT分区，但是，GPT+UEFI与BIOS+MBR究竟有什么区别。

这个是传统的Legacy运行流程：

![](/images/computer/3_2.png)

这个是UEFI运行流程：

![](/images/computer/3_3.png)

## 什么是MBR，什么是GPT

GPT和MBR是两种不同的分区方案。目前在Windows下广泛采用的磁盘分区方案仍然是MBR分区结构，但不容怀疑GPT是今后的趋势。

### MBR磁盘分区结构用下图简单表示（Windows下基本磁盘、4个主分区）

![](/images/computer/3_4.jpg)

为了方便计算机访问硬盘，把硬盘上的空间划分成许许多多的区块（英文叫sectors，即扇区），然后给每个区块分配一个地址，称为逻辑块地址（即LBA）。 

在MBR磁盘的第一个扇区内保存着启动代码和硬盘分区表。启动代码的作用是指引

计算机从活动分区引导启动操作系统（BIOS下启动操作系统的方式）；分区表的作用是记录硬盘的分区信息。在MBR中，分区表的大小是固定的，一共可容纳4个主分区信息。在MBR分区表中逻辑块地址采用32位二进制数表示，因此一共可表示2^32（2的32次方）个逻辑块地址。如果一个扇区大小为512字节，那么硬盘最大分区容量仅为2TB。

### GPT磁盘分区结构可用下图简单表示（Windows下基本磁盘）

![](/images/computer/3_5.jpg)

可以看到，在GTP磁盘的第一个数据块中同样有一个与MBR（主引导记录）类似的标记，叫做PMBR。PMBR的作用是，当使用不支持GPT的分区工具时，整个硬盘将显示为一个受保护的分区，以防止分区表及硬盘数据遭到破坏。UEFI并不从PMBR中获取GPT磁盘的分区信息，它有自己的分区表，即GPT分区表。

## GPT分区表的优势

GPT的分区方案之所以比MBR更先进，是因为在GPT分区表头中可自定义分区数量的最大值，也就是说GPT分区表的大小不是固定的。在Windows中，微软设定GPT磁盘最大分区数量为128个。另外，GPT分区方案中逻辑块地址（LBA）采用64位二进制数表示，可以计算一下2^64是一个多么庞大的数据，以我们的需求来讲完全有理由认为这个大小约等于无限。除此之外，GPT分区方案在硬盘的末端还有一个备份分区表，保证了分区信息不容易丢失。

## 什么是BIOS，什么是UEFI

BIOS和UEFI都是引导操作系统启动的必须介质，目前在Windows下广泛采用的引导方案仍然是BIOS引导，但不容怀疑UEFI是今后的趋势。

## BIOS引导系统方式（引导Windows）

![](/images/computer/3_2.png)

BIOS下启动操作系统之前，必须从硬盘上指定扇区读取系统启动代码（包含在MBR主引导记录中），然后从活动分区中引导启动操作系统，所以在BIOS下引导安装Windows操作系统，我们不得不使用一些工具（DiskGenius）对硬盘进行配置以达到启动要求（即建立MBR硬盘主引导和活动分区）。

传统BIOS的过程好像也不算复杂，但是由于BIOS的资源控制采用了中断向量的方式，所它在扩展性方面以及安全性上都不能有所保障。除此之外，有些电脑的BIOS的硬件自检时间非常长，这个时间大概就是我们的任务管理器显示的BIOS时间。

因为BIOS无法识别GPT分区，所以BIOS下GPT磁盘不能用于启动操作系统，在操作系统提供支持的情况下可用于数据存储。

BIOS方式启动过程看起来很不好，他要不断交接电脑控制权和读取引导记录并尝试引导，屏幕要闪很多次，还要看一段时间的Windows窗口的加载图标。

## UEFI引导系统方式（引导Windows）

![](/images/computer/3_3.png)

在UEFI下启动操作系统，不再需要主引导记录，不再需要活动分区，不需要任何工具，只要复制安装文件到一个FAT32（主）分区/U盘中，然后从这个分区/U盘启动。

UEFI在开机方面相比BIOS少了自检这一步，它把硬件信息存在了硬盘里，直接读取，因此它的启动速度更快；UEFI是BIOS的一种升级替代方案，UEFI之所以比BIOS强大，是因为UEFI本身已经相当于一个微型操作系统，其带来的便利之处在于：首先，UEFI已具备文件系统（文件系统是操作系统组织管理文件的一种方法，直白点说就是把硬盘上的数据以文件的形式呈现给用户。Fat32、NTFS都是常见的文件系统类型）的支持，它能够直接读取FAT分区中的文件；其次，可开发出直接在UEFI下运行的应用程序，这类程序文件通常以efi结尾。既然UEFI可以直接识别FAT分区中的文件，又有可直接在其中运行的应用程序。那么完全可以将Windows安装程序做成efi类型应用程序，然后把它放到任意fat分区中直接运行即可，如此一来安装Windows操作系统这件过去看上去稍微有点复杂的事情突然就变非常简单了，就像在Windows下打开QQ一样简单。

UEFI可同时识别MBR分区和GPT分区，因此UEFI下，MBR磁盘和GPT磁盘都可用于启动操作系统和数据存储。不过微软限制，UEFI下使用Windows安装程序安装操作系统是只能将系统安装在GPT磁盘中。

UEFI方式启动过程以SSD中启动WIN10为例，按下电源键，过1-2秒，然后出现主板的标志，过1-2秒，标志下出现转圈的点（表示正在加载Windows，这和BIOS启动完全不一样），过5-7S，黑一下，过1-2S，到开机锁屏界面；中间没有出现Windows窗口的加载图标，开机全程给人一种行云流水的感觉。

## 其他

	1、GPT能使用大于2.2T的硬盘，MBR不行。支持最大卷为18 EB（1EB=1048576TB）。
	2、GPT可以支持无限个分区，微软目前的限定是128个。Linux、ubuntu、macos都能支持这种分区格式。MBR最多4个主分区，超过4个再分区只能通过逻辑分区。
	3、GPT分区磁盘有备份分区表来提高分区数据结构的完整性。
	4、UEFI + GPT 开机启动更快，开机时跳过外设检测，并且可以实现启动时原生分辨率，搭载固态硬盘开机时间很短，十秒左右。（没有开机硬件自检会稍微快了那么1、2秒）
	5、UEFI + GPT 支持Secure Boot。通过保护预启动或预引导进程，抵御bootkit攻击，从而提高安全性。所有在开机时比Windows内核更早加载，实现内核劫持的技术，都可以称之为Bootkit。
	6、UEFI BIOS 可用鼠标操作图形界面，不再是枯燥的蓝底白字的英文。（Intel提出，用于取代BIOS）。UEFI的优越特性：可操作性、安全性、兼容性、可扩展性。

## 其他2

>分区数量上，gpt好像可以支持无限个分区，不过window上只认128个，而且gpt分区不分主分区，逻辑分区，可以理解为全部都是主分区，就相当于可以允许你一个分区一个系统，128个系统了。而这是mbr做不到的，mbr最多只能有四个系统，如果你想要多于四个的分区，那还得牺牲掉可以装一个系统的主分区，即把它装换为逻辑分区。 安全性上，gpt会更安全，因为分区表会备份，且加入校验算法，一旦被病毒感染或误操作可以及时发现，使用安全的备份的分区表补救。 分区容量上，gpt可以识别出大于2T的硬盘，而mbr最大就2t容量

## 查看我分区的类型

进入磁盘管理可以看到我们硬盘的一般情况，那么该如何查看我的硬盘的分区模式。

右击”磁盘0“选择”属性“

![](/images/computer/3_6.png)

在”属性“中切换到”卷“标签,这时我们就可以看到”磁盘分区形式“可以看到为gpt

![](/images/computer/3_7.png)

## 查看启动类型

按下win+r打开运行，输入msinfo32，确定，打开系统信息；

![](/images/computer/3_8.png)

